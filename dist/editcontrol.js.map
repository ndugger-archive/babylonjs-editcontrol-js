{"version":3,"sources":["webpack:///webpack/bootstrap 61e8f4014ed9ae8777ea","webpack:///./src/editcontrol.js","webpack:///./~/pepjs/dist/pep.js","webpack:///external \"babylonjs\"","webpack:///./src/acthist.js","webpack:///./src/act.js"],"names":[],"mappings":"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","file":"editcontrol.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 61e8f4014ed9ae8777ea\n **/","import 'pepjs';\n\nimport BABYLON from 'babylonjs';\nimport ActHist from './acthist';\n\nconst { Axis, Color3, Mesh, Space, StandardMaterial, Vector3 } = BABYLON;\n\nexport default class EditControl {\n\n    meshPicked = null;\n    canvas = null;\n    scene = null;\n    mainCamera = null;\n    theParent = null;\n    local = true;\n    snapT = false;\n    snapR = false;\n    transSnap = 1;\n    rotSnap = Math.PI / 18;\n    axesLen = 0.4;\n    axesScale = 1;\n    redMat = null;\n    greenMat = null;\n    blueMat = null;\n    whiteMat = null;\n    yellowMat = null;\n    actHist = null;\n    renderer = null;\n    pointerdown = null;\n    pointerup = null;\n    pointermove = null;\n\n    constructor (mesh, camera, canvas, scale) {\n        this.meshPicked = mesh;\n        this.canvas = canvas;\n        this.axesScale = scale;\n\n        this.scene = mesh.getScene();\n        this.mainCamera = camera;\n        this.actHist = new ActHist(mesh, 10);\n\n        mesh.computeWorldMatrix(true);\n\n        this.theParent = new Mesh('EditControl', this.scene);\n        this.theParent.position = this.meshPicked.position;\n        this.theParent.visibility = 0;\n        this.theParent.isPickable = false;\n\n        this.createMaterials(this.scene);\n        this.createGuideAxes();\n        this.guideCtl.parent = this.theParent;\n        this.createPickPlane();\n        this.pickPlane.parent = this.theParent;\n\n        this.pointerdown = this::this.onPointerDown;\n        this.pointerup = this::this.onPointerUp;\n        this.pointermove = this::this.onPointerMove;\n\n        canvas.addEventListener('pointerdown', this.pointerdown, false);\n        canvas.addEventListener('pointerup', this.pointerup, false);\n        canvas.addEventListener('pointermove', this.pointermove, false);\n\n        this.setLocalAxes(mesh);\n        this.renderer = this::this.renderLoopProcess;\n        this.scene.registerBeforeRender(this.renderer);\n    }\n\n    renderLoopProcess () {\n        this.setAxesScale();\n        this.theParent.position = this.meshPicked.position;\n        this.onPointerOver();\n    }\n\n    switchTo (mesh) {\n        mesh.computeWorldMatrix(true);\n        this.meshPicked = mesh;\n        this.setLocalAxes(mesh);\n        this.actHist = new ActHist(mesh, 10);\n    }\n\n    setUndoCount (c) {\n        this.actHist.setCapacity(c);\n    }\n\n    undo () {\n        this.actHist.undo();\n        this.meshPicked.computeWorldMatrix(true);\n        this.setLocalAxes(this.meshPicked);\n    }\n\n    redo () {\n        this.actHist.redo();\n        this.meshPicked.computeWorldMatrix(true);\n        this.setLocalAxes(this.meshPicked);\n    }\n\n    detach () {\n        this.canvas.removeEventListener('pointerdown', this.pointerdown, false);\n        this.canvas.removeEventListener('pointerup', this.pointerup, false);\n        this.canvas.removeEventListener('pointermove', this.pointermove, false);\n        this.scene.unregisterBeforeRender(this.renderer);\n        this.disposeAll();\n    }\n\n    disposeAll () {\n        this.theParent.dispose();\n        this.disposeMaterials();\n        this.actHist = null;\n    }\n\n    pDown = false;\n\n    axisPicked = null;\n\n    onPointerDown (evt) {\n        evt.preventDefault();\n        this.pDown = true;\n\n        if (evt.button !== 0)\n            return;\n\n        const pickResult = this.scene.pick(this.scene.pointerX, this.scene.pointerY, mesh => {\n            if (this.transEnabled) {\n                if (mesh === this.tX || mesh === this.tY || mesh === this.tZ)\n                    return true;\n            }\n            if (this.rotEnabled) {\n                if (mesh === this.rX || mesh === this.rY || mesh === this.rZ)\n                    return true;\n            }\n            if (this.scaleEnabled) {\n                if (mesh === this.sX || mesh === this.sY || mesh === this.sZ || mesh === this.sAll)\n                    return true;\n            }\n            return false;\n        }, null, this.mainCamera);\n\n        if (pickResult.hit) {\n            this.setAxisVisiblity(0);\n            this.axisPicked = pickResult.pickedMesh;\n            this.axisPicked.getChildren()[0].visibility = 1;\n\n            const name = this.axisPicked.name;\n\n            if (name === 'X') this.bXaxis.visibility = 1;\n            if (name === 'Y') this.bYaxis.visibility = 1;\n            if (name === 'Z') this.bZaxis.visibility = 1;\n            if (name === 'ALL') {\n                this.bXaxis.visibility = 1;\n                this.bYaxis.visibility = 1;\n                this.bZaxis.visibility = 1;\n            }\n\n            this.editing = true;\n            this.prevPos = this.getPosOnPickPlane();\n\n            window.setTimeout(this::this.detachControl, 0, this.mainCamera, this.canvas);\n        }\n    }\n\n    isEditing () {\n        return this.editing;\n    }\n\n    detachControl (cam, can) {\n        const camera = cam;\n        const canvas = can;\n\n        camera.detachControl(canvas);\n    }\n\n    prevOverMesh = null;\n\n    onPointerOver () {\n        if (this.pDown)\n            return;\n\n        const pickResult = this.scene.pick(this.scene.pointerX, this.scene.pointerY, mesh => {\n            if (this.transEnabled) {\n                if (mesh === this.tX || mesh === this.tY || mesh === this.tZ)\n                    return true;\n            }\n            if (this.rotEnabled) {\n                if (mesh === this.rX || mesh === this.rY || mesh === this.rZ)\n                    return true;\n            }\n            if (this.scaleEnabled) {\n                if (mesh === this.sX || mesh === this.sY || mesh === this.sZ || mesh === this.sAll)\n                    return true;\n            }\n            return false;\n        }, null, this.mainCamera);\n\n        if (pickResult.hit) {\n            if (pickResult.pickedMesh !== this.prevOverMesh) {\n                if (this.prevOverMesh) {\n                    this.prevOverMesh.visibility = 0;\n                    this.restoreColor(this.prevOverMesh);\n                }\n\n                this.prevOverMesh = pickResult.pickedMesh;\n\n                if (this.rotEnabled) {\n                    this.prevOverMesh.getChildren()[0].color = Color3.White();\n                }\n                else {\n                    this.prevOverMesh.getChildren()[0].material = this.whiteMat\n                }\n\n                if (this.prevOverMesh.name === 'X') {\n                    this.xaxis.color = Color3.White();\n                }\n\n                if (this.prevOverMesh.name === 'Y') {\n                    this.yaxis.color = Color3.White();\n                }\n\n                if (this.prevOverMesh.name === 'Z') {\n                    this.zaxis.color = Color3.White();\n                }\n            }\n        }\n        else {\n            if (this.prevOverMesh) {\n                this.restore(this.prevOverMesh);\n                this.prevOverMesh = null;\n            }\n        }\n    }\n\n    restoreColor (mesh) {\n        let col, mat;\n\n        if (mesh.name === 'X') {\n            col = Color3.Red();\n            mat = this.redMat;\n            this.xaxis.color = Color3.Red();\n        }\n        else if (this.prevOverMesh.name === 'Y') {\n            col = Color3.Green();\n            mat = this.greenMat;\n            this.yaxis.color = Color3.Green();\n        }\n        else if (this.prevOverMesh.name === 'Z') {\n            col = Color3.Blue();\n            mat = this.blueMat;\n            this.zaxis.color = Color3.Blue();\n        }\n        else {\n            col = Color3.Yellow();\n            mat = this.yellowMat;\n        }\n\n        if (this.rotEnabled) {\n            this.prevOverMesh.getChildren()[0].color = col;\n        }\n        else {\n            this.prevOverMesh.getChildren()[0].material = mat;\n        }\n    }\n\n    editing = false;\n\n    onPointerUp (e) {\n        this.pDown = false;\n\n        if (this.editing) {\n            this.mainCamera.attachControl(this.canvas);\n            this.editing = false;\n            this.setAxisVisiblity(1);\n            this.hideBaxis();\n            this.restoreColor(this.prevOverMesh);\n            this.prevOverMesh = null;\n            this.actHist.add();\n        }\n    }\n\n    prevPos = null;\n\n    snapX = 0;\n    snapY = 0;\n    snapZ = 0;\n    snapRX = 0;\n    snapRY = 0;\n    snapRZ = 0;\n\n    onPointerMove () {\n        if (!this.pDown || !this.ediging)\n            return;\n\n        const newPos = this.getPosOnPickPlane();\n\n        if (!newPos)\n            return;\n\n        if (this.transEnabled)\n            this.doTranslation(newPos);\n\n        if (this.scaleEnabled && this.local)\n            this.doScaling(newPos);\n\n        if (this.rotEnabled)\n            this.doRotation(newPos);\n\n        this.prevPos = newPos;\n    }\n\n    doTranslation (newPos) {\n        const diff = newPos.subtract(this.prevPos);\n        let dl = diff.length();\n        let space;\n\n        if (this.local)\n            space = Space.LOCAL;\n        else\n            space = Space.WORLD;\n\n        if (this.axisPicked === this.tX) {\n            if (this.local)\n                dl = Vector3.Dot(diff, this.localX) / (this.localX.length() * this.meshPicked.scaling.x);\n            else\n                dl = diff.x;\n\n            if (this.snapT) {\n                this.snapX += dl;\n                dl = 0;\n                let scale = 1;\n\n                if (this.local)\n                    scale = this.meshPicked.scaling.x;\n                if (Math.abs(this.snapX) > this.transSnap / scale) {\n                    if (this.snapX > 0)\n                        dl = this.transSnap / scale;\n                    else\n                        dl = -this.transSnap / scale;\n\n                    this.snapX = 0;\n                }\n            }\n\n            if (this.local)\n                this.meshPicked.translate(Axis.X, dl, space);\n            else\n                this.meshPicked.position.x += dl;\n        }\n        if (this.axisPicked === this.tY) {\n            if (this.local)\n                dl = Vector3.Dot(diff, this.localY) / (this.localY.length() * this.meshPicked.scaling.y);\n            else\n                dl = diff.y;\n\n            if (this.snapT) {\n                this.snapY += dl;\n                dl = 0;\n                let scale = 1;\n\n                if (this.local)\n                    scale = this.meshPicked.scaling.y;\n                if (Math.abs(this.snapY) > this.transSnap / scale) {\n                    if (this.snapY > 0)\n                        dl = this.transSnap / scale;\n                    else\n                        dl = -this.transSnap / scale;\n\n                    this.snapY = 0;\n                }\n            }\n\n            if (this.local)\n                this.meshPicked.translate(Axis.Y, dl, space);\n            else\n                this.meshPicked.position.y += dl;\n        }\n        if (this.axisPicked === this.tZ) {\n            if (this.local)\n                dl = Vector3.Dot(diff, this.localZ) / (this.localZ.length() * this.meshPicked.scaling.z);\n            else\n                dl = diff.z;\n\n            if (this.snapT) {\n                this.snapZ += dl;\n                dl = 0;\n                let scale = 1;\n\n                if (this.local)\n                    scale = this.meshPicked.scaling.z;\n                if (Math.abs(this.snapZ) > this.transSnap / scale) {\n                    if (this.snapZ > 0)\n                        dl = this.transSnap / scale;\n                    else\n                        dl = -this.transSnap / scale;\n\n                    this.snapZ = 0;\n                }\n            }\n\n            if (this.local)\n                this.meshPicked.translate(Axis.Z, dl, space);\n            else\n                this.meshPicked.position.z += dl;\n        }\n    }\n\n    doScaling (newPos) {\n        const ppm = this.prevPos.subtract(this.meshPicked.position);\n        const diff = newPos.subtract(prevPos);\n        let r = diff.length() / ppm.length();\n\n        if (this.axisPicked === this.sX) {\n            const dot = Vector3.Dot(diff, this.localX);\n            if (dot >= 0)\n                this.meshPicked.scaling.x *= 1 + r;\n            else\n                this.meshPicked.scaling.x *= 1 - r;\n        }\n\n        if (this.axisPicked === this.sY) {\n            const dot = Vector3.Dot(diff, this.localY);\n            if (dot >= 0)\n                this.meshPicked.scaling.y *= 1 + r;\n            else\n                this.meshPicked.scaling.y *= 1 - r;\n        }\n\n        if (this.axisPicked === this.sZ) {\n            const dot = Vector3.Dot(diff, this.localZ);\n            if (dot >= 0)\n                this.meshPicked.scaling.z *= 1 + r;\n            else\n                this.meshPicked.scaling.z *= 1 - r;\n        }\n\n        if (this.axisPicked === this.sAll) {\n            const dot = Vector3.Dot(diff, this.mainCamera.upVector);\n            r = diff.length() / 5;\n\n            if (dot < 0) {\n                r = -1;\n            }\n\n            this.meshPicked.scaling.x *= 1 + r;\n            this.meshPicked.scaling.y *= 1 + r;\n            this.meshPicked.scaling.z *= 1 + r;\n        }\n    }\n\n    doRotation (newPos) {\n        const cN = Vector3.TransformNormal(Axis.Z, this.mainCamera.getWorldMatrix());\n\n        if (this.axisPicked === this.rX) {\n\t\t\tlet angle = this.getAngle(this.prevPos, newPos, this.meshPicked.position, cN);\n\n            if (this.snapR) {\n\t\t\t\tthis.snapRX += angle;\n\t\t\t\tangle = 0;\n\n                if (Math.abs(this.snapRX) >= this.rotSnap) {\n\t\t\t\t\tif (this.snapRX > 0)\n\t\t\t\t\t\tthis.angle = this.rotSnap;\n\t\t\t\t\telse\n\t\t\t\t\t\tangle = -this.rotSnap;\n\n                    this.snapRX = 0;\n\t\t\t\t}\n\t\t\t}\n\n            if (this.local) {\n\t\t\t\tif (Vector3.Dot(this.localX, cN) < 0)\n\t\t\t\t\tangle = -1 * angle;\n\n                this.meshPicked.rotate(Axis.X, angle, Space.LOCAL);\n\t\t\t}\n            else\n\t\t\t\tthis.meshPicked.rotate(new Vector3(cN.x, 0, 0), angle, Space.WORLD);\n\n            this.setLocalAxes(this.meshPicked);\n\t\t}\n        if (this.axisPicked === this.rY) {\n\t\t\tlet angle = this.getAngle(this.prevPos, newPos, this.meshPicked.position, cN);\n\n            if (this.snapR) {\n\t\t\t\tthis.snapRY += angle;\n\t\t\t\tangle = 0;\n\n\t\t\t\tif (Math.abs(this.snapRY) >= this.rotSnap) {\n\t\t\t\t\tif (this.snapRY > 0)\n\t\t\t\t\t\tangle = this.rotSnap;\n\t\t\t\t\telse\n\t\t\t\t\t\tangle = -this.rotSnap;\n\n\t\t\t\t\tthis.snapRY = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.local) {\n\t\t\t\tif (Vector3.Dot(this.localY, cN) < 0)\n\t\t\t\t\tangle = -1 * angle;\n\n\t\t\t\tthis.meshPicked.rotate(Axis.Y, angle, Space.LOCAL);\n\t\t\t}\n            else\n\t\t\t\tthis.meshPicked.rotate(new Vector3(0, cN.y, 0), angle, Space.WORLD);\n\n            this.setLocalAxes(this.meshPicked);\n\t\t}\n\n        if (this.axisPicked === this.rZ) {\n\t\t\tlet angle = this.getAngle(this.prevPos, newPos, this.meshPicked.position, cN);\n\n            if (this.snapR) {\n\t\t\t\tthis.snapRZ += angle;\n\t\t\t\tangle = 0;\n\n\t\t\t\tif (Math.abs(this.snapRZ) >= this.rotSnap) {\n\t\t\t\t\tif (this.snapRZ > 0)\n\t\t\t\t\t\tangle = this.rotSnap;\n\t\t\t\t\telse\n\t\t\t\t\t\tangle = -this.rotSnap;\n\n\t\t\t\t\tthis.snapRZ = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.local) {\n\t\t\t\tif (Vector3.Dot(this.localZ, cN) < 0)\n\t\t\t\t\tangle = -1 * angle;\n\t\t\t\tthis.meshPicked.rotate(Axis.Z, angle, Space.LOCAL);\n\t\t\t} else\n\t\t\t\tthis.meshPicked.rotate(new Vector3(0, 0, cN.z), angle, Space.WORLD);\n\n\t\t\tthis.setLocalAxes(this.meshPicked);\n\t\t}\n\n\t\tthis.meshPicked.rotation = this.meshPicked.rotationQuaternion.toEulerAngles();\n    }\n\n    getPosOnPickPlane () {\n        const pickinfo = this.scene.pick(this.scene.pointerX, this.scene.pointerY, mesh => {\n            return mesh === this.pickPlane;\n        }, null, this.mainCamera);\n\n        if (pickinfo.hit) {\n            return pickinfo.pickedPoint;\n        }\n\n        return null;\n    }\n\n    hideBaxis () {\n        this.bXaxis.visibility = 0;\n        this.bYaxis.visibility = 0;\n        this.bZaxis.visibility = 0;\n    }\n\n    setAxisVisiblity (v) {\n        if (this.transEnabled) {\n\t\t\tthis.tEndX.visibility = v;\n\t\t\tthis.tEndY.visibility = v;\n\t\t\tthis.tEndZ.visibility = v;\n\t\t}\n\n\t\tif (this.rotEnabled) {\n\t\t\tthis.rEndX.visibility = v;\n\t\t\tthis.rEndY.visibility = v;\n\t\t\tthis.rEndZ.visibility = v;\n\t\t}\n\n\t\tif (this.scaleEnabled) {\n\t\t\tthis.sEndX.visibility = v;\n\t\t\tthis.sEndY.visibility = v;\n\t\t\tthis.sEndZ.visibility = v;\n\t\t\tthis.sEndAll.visibility = v;\n\t\t}\n    }\n\n    transEnabled = false;\n\n    isTranslationEnabled () {\n        return this.transEnabled;\n    }\n\n    enableTranslation () {\n        if (!this.tX) {\n\t\t\tthis.createTransAxes();\n\t\t\tthis.tCtl.parent = this.theParent;\n\t\t}\n\n\t\tif (!this.transEnabled) {\n\t\t\tthis.tEndX.visibility = 1;\n\t\t\tthis.tEndY.visibility = 1;\n\t\t\tthis.tEndZ.visibility = 1;\n\t\t\tthis.transEnabled = true;\n\n\t\t\tthis.disableRotation();\n\t\t\tthis.disableScaling();\n\t\t}\n    }\n\n    disableTranslation () {\n\t\tif (this.transEnabled) {\n\t\t\tthis.tEndX.visibility = 0;\n\t\t\tthis.tEndY.visibility = 0;\n\t\t\tthis.tEndZ.visibility = 0;\n\t\t\tthis.transEnabled = false;\n\t\t}\n\t}\n\n    rotEnabled = false;\n\n    isRotationEnabled () {\n        return this.rotEnabled;\n    }\n\n    enableRotation () {\n        if (!this.rX) {\n            this.createRotAxes();\n            this.rCtl.parent = this.theParent;\n        }\n\n        if (!this.rotEnabled) {\n            this.rEndX.visibility = 1;\n\t\t\tthis.rEndY.visibility = 1;\n\t\t\tthis.rEndZ.visibility = 1;\n\t\t\tthis.rotEnabled = true;\n\n\t\t\tthis.disableTranslation();\n\t\t\tthis.disableScaling();\n        }\n    }\n\n    disableRotation () {\n\t\tif (this.rotEnabled) {\n\t\t\tthis.rEndX.visibility = 0;\n\t\t\tthis.rEndY.visibility = 0;\n\t\t\tthis.rEndZ.visibility = 0;\n\t\t\tthis.rotEnabled = false;\n\t\t}\n\t}\n\n    scaleEnabled = false;\n\n\tisScaleEnabled(){\n\t\treturn this.scaleEnabled;\n\t}\n\n\tenableScaling() {\n\t\tif (!this.sX) {\n\t\t\tthis.createScaleAxes();\n\t\t\tthis.sCtl.parent = this.theParent;\n\t\t}\n\n\t\tif (!this.scaleEnabled) {\n\t\t\tthis.sEndX.visibility = 1;\n\t\t\tthis.sEndY.visibility = 1;\n\t\t\tthis.sEndZ.visibility = 1;\n\t\t\tthis.sEndAll.visibility = 1;\n\t\t\tthis.scaleEnabled = true;\n\n\t\t\tthis.disableTranslation();\n\t\t\tthis.disableRotation();\n\t\t}\n\t}\n\n\tdisableScaling () {\n\t\tif (this.scaleEnabled) {\n\t\t\tthis.sEndX.visibility = 0;\n\t\t\tthis.sEndY.visibility = 0;\n\t\t\tthis.sEndZ.visibility = 0;\n\t\t\tthis.sEndAll.visibility = 0;\n\t\t\tthis.scaleEnabled = false;\n\t\t}\n\t}\n\n    bXaxis = null;\n    bYaxis = null;\n    bZaxis = null;\n    xaxis = null;\n    yaxis = null;\n    zaxis = null;\n    guideCtl = null;\n\n    createGuideAxes () {\n        const l = this.axesLen * this.axesScale;\n\n        this.guideCtl = new Mesh('guideCtl', this.scene);\n\n        this.bXaxis = Mesh.CreateLines('xAxis', [new Vector3(-100, 0, 0), new Vector3(100, 0, 0)], this.scene);\n        this.bYaxis = Mesh.CreateLines('xAxis', [new Vector3(0, -100, 0), new Vector3(0, 100, 0)], this.scene);\n        this.bZaxis = Mesh.CreateLines('zAxis', [new Vector3(0, 0, -100), new Vector3(0, 0, 100)], this.scene);\n\n        this.bXaxis.parent = this.guideCtl;\n        this.bYaxis.parent = this.guideCtl;\n        this.bZaxis.parent = this.guideCtl;\n\n        this.bXaxis.color = Color3.Red();\n        this.bYaxis.color = Color3.Green();\n        this.bZaxis.color = Color3.Blue();\n\n        this.bXaxis.renderingGroupId = 1;\n        this.bYaxis.renderingGroupId = 1;\n        this.bZaxis.renderingGroupId = 1;\n\n        this.hideBaxis();\n\n        this.xaxis = Mesh.CreateLines('xAxis', [new Vector3(0, 0, 0), new Vector3(l, 0, 0)], this.scene);\n        this.yaxis = Mesh.CreateLines('yAxis', [new Vector3(0, 0, 0), new Vector3(0, l, 0)], this.scene);\n        this.zaxis = Mesh.CreateLines('zAxis', [new Vector3(0, 0, 0), new Vector3(0, 0, l)], this.scene);\n\n        this.xaxis.parent = this.guideCtl;\n        this.yaxis.parent = this.guideCtl;\n        this.zaxis.parent = this.guideCtl;\n\n        this.xaxis.color = Color3.Red();\n        this.yaxis.color = Color3.Green();\n        this.zaxis.color = Color3.Blue();\n\n        this.xaxis.renderingGroupId = 2;\n        this.yaxis.renderingGroupId = 2;\n        this.zaxis.renderingGroupId = 2;\n    }\n\n    pickPlane = null;\n\n    createPickPlane () {\n        this.pickPlane = Mesh.CreatePlane('axisPlane', 200, this.scene);\n        this.pickPlane.isPickable = false;\n        this.pickPlane.visibility = 0;\n        this.pickPlane.billboardMode = Mesh.BILLBOARDMODE_ALL;\n        this.pickPlane.renderingGroupId = 1;\n    }\n\n    tCtl = null;\n    tX = null;\n    tY = null;\n    tZ = null;\n    tEndX = null;\n    tEndY = null;\n    tEndZ = null;\n\n    createTransAxes () {\n        const r = 0.04;\n        const l = this.axesLen * this.axesScale;\n\n        this.tCtl = new Mesh('tarnsCtl', this.scene);\n\n\t\tthis.tX = extrudeBox(r / 2, l);\n\t\tthis.tX.name = 'X';\n\t\tthis.tY = this.tX.clone('Y');\n\t\tthis.tZ = this.tX.clone('Z');\n\n\t\tthis.tX.material = this.redMat;\n\t\tthis.tY.material = this.greenMat;\n\t\tthis.tZ.material = this.blueMat;\n\n\t\tthis.tX.parent = this.tCtl;\n\t\tthis.tY.parent = this.tCtl;\n\t\tthis.tZ.parent = this.tCtl;\n\n\t\tthis.tX.rotation.y = 1.57;\n\t\tthis.tY.rotation.x -= 1.57;\n\n\t\tthis.tX.visibility = 0;\n\t\tthis.tY.visibility = 0;\n\t\tthis.tZ.visibility = 0;\n\n\t\tthis.tX.renderingGroupId = 1;\n\t\tthis.tY.renderingGroupId = 1;\n\t\tthis.tZ.renderingGroupId = 1;\n\n\t\tthis.tX.isPickable = false;\n\t\tthis.tY.isPickable = false;\n\t\tthis.tZ.isPickable = false;\n\n        const cl = l * this.axesScale / 4;\n        const cr = r * this.axesScale;\n\n        this.tEndX = Mesh.CreateCylinder('tEndX', cl, 0, cr, 6, 1, this.scene);\n\t\tthis.tEndY = tEndX.clone('tEndY');\n\t\tthis.tEndZ = tEndX.clone('tEndZ');\n\n\t\tthis.tEndX.rotation.x = 1.57;\n\t\tthis.tEndY.rotation.x = 1.57;\n\t\tthis.tEndZ.rotation.x = 1.57;\n\n\t\tthis.tEndX.parent = this.tX;\n\t\tthis.tEndY.parent = this.tY;\n\t\tthis.tEndZ.parent = this.tZ;\n\n\t\tthis.tEndX.position.z = l - cl / 2;\n\t\tthis.tEndY.position.z = l - cl / 2;\n\t\tthis.tEndZ.position.z = l - cl / 2;\n\n\t\tthis.tEndX.material = this.redMat;\n\t\tthis.tEndY.material = this.greenMat;\n\t\tthis.tEndZ.material = this.blueMat;\n\n\t\tthis.tEndX.renderingGroupId = 1;\n\t\tthis.tEndY.renderingGroupId = 1;\n\t\tthis.tEndZ.renderingGroupId = 1;\n\n\t\tthis.tEndX.isPickable = false;\n\t\tthis.tEndY.isPickable = false;\n\t\tthis.tEndZ.isPickable = false;\n    }\n\n    rCtl = null;\n    rX = null;\n    rY = null;\n    rZ = null;\n    rEndX = null;\n    rEndY = null;\n    rEndZ = null;\n\n    createRotAxes () {\n        const r = 0.04;\n        const d = this.axesLen * this.axesScale * 2;\n\n        this.rCtl = new Mesh('rotCtl', this.scene);\n\n\t\tthis.rX = Mesh.CreateTorus('X', d, r, 30, this.scene);\n\t\tthis.rY = rX.clone('Y');\n\t\tthis.rZ = rX.clone('Z');\n\n\t\tthis.rX.material = this.redMat;\n\t\tthis.rY.material = this.greenMat;\n\t\tthis.rZ.material = this.blueMat;\n\n\t\tthis.rX.parent = this.rCtl;\n\t\tthis.rY.parent = this.rCtl;\n\t\tthis.rZ.parent = this.rCtl;\n\n\t\tthis.rX.rotation.z -= 1.57;\n\t\tthis.rZ.rotation.x = 1.57;\n\n\t\tthis.rX.visibility = 0;\n\t\tthis.rY.visibility = 0;\n\t\tthis.rZ.visibility = 0;\n\n\t\tthis.rX.renderingGroupId = 1;\n\t\tthis.rY.renderingGroupId = 1;\n\t\tthis.rZ.renderingGroupId = 1;\n\n\t\tthis.rX.isPickable = false;\n\t\tthis.rY.isPickable = false;\n\t\tthis.rZ.isPickable = false;\n\n        const cl = d;\n\n        this.rEndX = this.createCircle(cl / 2);\n        this.rEndY = this.rEndX.clone('');\n        this.rEndZ = this.rEndX.clone('');\n\n        this.rEndX.parent = this.rX;\n        this.rEndY.parent = this.rY;\n        this.rEndZ.parent = this.rZ;\n\n        this.rEndX.rotation.x = 1.57;\n\t\tthis.rEndY.rotation.x = 1.57;\n\t\tthis.rEndZ.rotation.x = 1.57;\n\n\t\tthis.rEndX.color = Color3.Red();\n\t\tthis.rEndY.color = Color3.Green();\n\t\tthis.rEndZ.color = Color3.Blue();\n\n\t\tthis.rEndX.renderingGroupId = 1;\n\t\tthis.rEndY.renderingGroupId = 1;\n\t\tthis.rEndZ.renderingGroupId = 1;\n\n\t\tthis.rEndX.isPickable = false;\n\t\tthis.rEndY.isPickable = false;\n\t\tthis.rEndZ.isPickable = false;\n    }\n\n    extrudeBox (w, l) {\n        const shape = [\n            new Vector3(w, w, 0),\n            new Vector3(-w, w, 0),\n            new Vector3(-w, -w, 0),\n            new Vector3(w, -w, 0),\n            new Vector3(w, w, 0)\n        ];\n        const path = [\n            new Vector3(0, 0, 0),\n            new Vector3(0, 0, l)\n        ];\n        const box = Mesh.ExtrudeShape('', shape, path, 1, 0, 2, this.scene);\n\n        return box;\n    }\n\n    createCircle (r) {\n        const points = [];\n        const a = Math.PI / 180;\n        let x = 0, y = 0, p = 0;\n\n        for (let i = 0; i <= 360; i += 10) {\n            x = r * Math.cos(i * 1);\n\n            if (i === 90)\n                y = r;\n            else if (i === 270)\n                y = -r;\n            else\n                y = r * Math.sin(i * a);\n\n            points[p] = new Vector3(x, y, 0);\n            p++;\n        }\n\n        const circle = Mesh.CreateLines('', points, this.scene);\n\n        return circle;\n    }\n\n    sCtl = null;\n    sX = null;\n    sY = null;\n    sZ = null;\n    sAll = null;\n    sEndX = null;\n    sEndY = null;\n    sEndZ = null;\n    sEndAll = null;\n\n    createScaleAxes () {\n        const r = 0.04;\n        const l = this.axesLen * this.axesScale;\n\n        this.sCtl = new Mesh('sCtl', this.scene);\n\t\tthis.sAll = Mesh.CreateBox('ALL', r * 2, this.scene);\n\n\t\tthis.sX = extrudeBox(r / 2, l);\n\t\tthis.sX.name = 'X';\n\t\tthis.sY = this.sX.clone('Y');\n\t\tthis.sZ = this.sX.clone('Z');\n\n\t\tthis.sX.material = this.redMat;\n\t\tthis.sY.material = this.greenMat;\n\t\tthis.sZ.material = this.blueMat;\n\t\tthis.sAll.material = this.yellowMat;\n\n\t\tthis.sX.parent = this.sCtl;\n\t\tthis.sY.parent = this.sCtl;\n\t\tthis.sZ.parent = this.sCtl;\n\t\tthis.sAll.parent = this.sCtl;\n\n\t\tthis.sX.rotation.y = 1.57;\n\t\tthis.sY.rotation.x -= 1.57;\n\n\t\tthis.sX.visibility = 0;\n\t\tthis.sY.visibility = 0;\n\t\tthis.sZ.visibility = 0;\n\t\tthis.sAll.visibility = 0;\n\n\t\tthis.sX.renderingGroupId = 1;\n\t\tthis.sY.renderingGroupId = 1;\n\t\tthis.sZ.renderingGroupId = 1;\n\t\tthis.sAll.renderingGroupId = 1;\n\n\t\tthis.sX.isPickable = false;\n\t\tthis.sY.isPickable = false;\n\t\tthis.sZ.isPickable = false;\n\t\tthis.sAll.isPickable = false;\n\n        const cr = r * this.axesScale;\n\n\t\tthis.sEndX = Mesh.CreateBox('', cr, this.scene);\n\t\tthis.sEndY = sEndX.clone('');\n\t\tthis.sEndZ = sEndX.clone('');\n\t\tthis.sEndAll = sEndX.clone('');\n\n\t\tthis.sEndX.parent = this.sX;\n\t\tthis.sEndY.parent = this.sY;\n\t\tthis.sEndZ.parent = this.sZ;\n\t\tthis.sEndAll.parent = this.sAll;\n\n\t\tthis.sEndX.position.z = l - cr / 2;\n\t\tthis.sEndY.position.z = l - cr / 2;\n\t\tthis.sEndZ.position.z = l - cr / 2;\n\n\t\tthis.sEndX.material = this.redMat;\n\t\tthis.sEndY.material = this.greenMat;\n\t\tthis.sEndZ.material = this.blueMat;\n\t\tthis.sEndAll.material = this.yellowMat;\n\n\t\tthis.sEndX.renderingGroupId = 1;\n\t\tthis.sEndY.renderingGroupId = 1;\n\t\tthis.sEndZ.renderingGroupId = 1;\n\t\tthis.sEndAll.renderingGroupId = 1;\n\n\t\tthis.sEndX.isPickable = false;\n\t\tthis.sEndY.isPickable = false;\n\t\tthis.sEndZ.isPickable = false;\n\t\tthis.sEndAll.isPickable = false;\n    }\n\n    localX = null;\n    localY = null;\n    localZ = null;\n    localRot = null;\n\n    setLocalAxes (mesh) {\n        const meshMatrix = mesh.getWorldMatrix();\n\t\tconst pos = mesh.position;\n\n\t\tthis.localX = Vector3.TransformCoordinates(Axis.X, meshMatrix).subtract(pos);\n\t\tthis.localY = Vector3.TransformCoordinates(Axis.Y, meshMatrix).subtract(pos);\n\t\tthis.localZ = Vector3.TransformCoordinates(Axis.Z, meshMatrix).subtract(pos);\n\t\tthis.localRot = Vector3.RotationFromAxis(this.localX, this.localY, this.localZ);\n\n        if (this.local)\n\t\t\tthis.theParent.rotation.copyFrom(this.localRot);\n    }\n\n    setLocal(l) {\n\t\tif (this.local === l)\n\t\t\treturn;\n\n\t\tthis.local = l;\n\n\t\tif (this.local)\n\t\t\tthis.theParent.rotation.copyFrom(this.localRot);\n\t\telse\n\t\t\tthis.theParent.rotation.copyFrom(Vector3.Zero());\n\t}\n\n    isLocal (){\n\t\treturn this.local;\n\t}\n\n\tsetTransSnap (s) {\n\t\tthis.snapT = s;\n\t}\n\n\tsetRotSnap (s) {\n\t\tthis.snapR = s;\n\t}\n\n\tsetTransSnapValue (t) {\n\t\tthis.transSnap = t;\n\t}\n\n\tsetRotSnapValue (r) {\n\t\tthis.rotSnap = r;\n\t}\n\n    setAxesScale () {\n        const distFromCamera = 2;\n        const toParent = this.theParent.position.subtract(this.mainCamera.position)\n        const cameraNormal = Vector3.TransformNormal(Axis.Z, this.mainCamera.getWorldMatrix());\n        const parentOnNormal = Vector3.Dot(toParent, cameraNormal) / cameraNormal.length();\n        const s = parentOnNormal / distFromCamera;\n        const scale = new Vector3(s, s, s);\n\n        this.theParent.scaling = scale;\n    }\n\n    getAngle (p1, p2, p, cN) {\n        const v1 = p1.subtract(p);\n\t\tconst v2 = p2.subtract(p);\n\t\tconst n = Vector3.Cross(v1, v2);\n\t\tlet angle = Math.asin(n.length() / (v1.length() * v2.length()));\n\n\t\tif (Vector3.Dot(n, cN) < 0) {\n\t\t\tangle = -1 * angle;\n\t\t}\n\n\t\treturn angle;\n    }\n\n    createMaterials (scene) {\n        this.redMat = this.getStandardMaterial('redMat', Color3.Red(), scene);\n\t\tthis.greenMat = this.getStandardMaterial('greenMat', Color3.Green(), scene);\n\t\tthis.blueMat = this.getStandardMaterial('blueMat', Color3.Blue(), scene);\n\t\tthis.whiteMat = this.getStandardMaterial('whiteMat', Color3.White(), scene);\n\t\tthis.yellowMat = this.getStandardMaterial('whiteMat', Color3.Yellow(), scene);\n    }\n\n    disposeMaterials () {\n        this.redMat.dispose();\n\t\tthis.greenMat.dispose();\n\t\tthis.blueMat.dispose();\n\t\tthis.whiteMat.dispose();\n\t\tthis.yellowMat.dispose();\n    }\n\n    getStandardMaterial (name, col, scene) {\n        const mat = new StandardMaterial(name, scene);\n        mat.emissiveColor = col;\n        mat.diffuseColor = Color3.Black();\n        mat.specularColor = Color3.Black();\n\n        return mat;\n    }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/editcontrol.js\n **/","/*!\n * PEP v0.4.1 | https://github.com/jquery/PEP\n * Copyright jQuery Foundation and other contributors | http://jquery.org/license\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  global.PointerEventsPolyfill = factory()\n}(this, function () { 'use strict';\n\n  /**\n   * This is the constructor for new PointerEvents.\n   *\n   * New Pointer Events must be given a type, and an optional dictionary of\n   * initialization properties.\n   *\n   * Due to certain platform requirements, events returned from the constructor\n   * identify as MouseEvents.\n   *\n   * @constructor\n   * @param {String} inType The type of the event to create.\n   * @param {Object} [inDict] An optional dictionary of initial event properties.\n   * @return {Event} A new PointerEvent of type `inType`, initialized with properties from `inDict`.\n   */\n  var MOUSE_PROPS = [\n    'bubbles',\n    'cancelable',\n    'view',\n    'detail',\n    'screenX',\n    'screenY',\n    'clientX',\n    'clientY',\n    'ctrlKey',\n    'altKey',\n    'shiftKey',\n    'metaKey',\n    'button',\n    'relatedTarget',\n    'pageX',\n    'pageY'\n  ];\n\n  var MOUSE_DEFAULTS = [\n    false,\n    false,\n    null,\n    null,\n    0,\n    0,\n    0,\n    0,\n    false,\n    false,\n    false,\n    false,\n    0,\n    null,\n    0,\n    0\n  ];\n\n  function PointerEvent(inType, inDict) {\n    inDict = inDict || Object.create(null);\n\n    var e = document.createEvent('Event');\n    e.initEvent(inType, inDict.bubbles || false, inDict.cancelable || false);\n\n    // define inherited MouseEvent properties\n    // skip bubbles and cancelable since they're set above in initEvent()\n    for (var i = 2, p; i < MOUSE_PROPS.length; i++) {\n      p = MOUSE_PROPS[i];\n      e[p] = inDict[p] || MOUSE_DEFAULTS[i];\n    }\n    e.buttons = inDict.buttons || 0;\n\n    // Spec requires that pointers without pressure specified use 0.5 for down\n    // state and 0 for up state.\n    var pressure = 0;\n    if (inDict.pressure) {\n      pressure = inDict.pressure;\n    } else {\n      pressure = e.buttons ? 0.5 : 0;\n    }\n\n    // add x/y properties aliased to clientX/Y\n    e.x = e.clientX;\n    e.y = e.clientY;\n\n    // define the properties of the PointerEvent interface\n    e.pointerId = inDict.pointerId || 0;\n    e.width = inDict.width || 0;\n    e.height = inDict.height || 0;\n    e.pressure = pressure;\n    e.tiltX = inDict.tiltX || 0;\n    e.tiltY = inDict.tiltY || 0;\n    e.pointerType = inDict.pointerType || '';\n    e.hwTimestamp = inDict.hwTimestamp || 0;\n    e.isPrimary = inDict.isPrimary || false;\n    return e;\n  }\n\n  var _PointerEvent = PointerEvent;\n\n  /**\n   * This module implements a map of pointer states\n   */\n  var USE_MAP = window.Map && window.Map.prototype.forEach;\n  var PointerMap = USE_MAP ? Map : SparseArrayMap;\n\n  function SparseArrayMap() {\n    this.array = [];\n    this.size = 0;\n  }\n\n  SparseArrayMap.prototype = {\n    set: function(k, v) {\n      if (v === undefined) {\n        return this.delete(k);\n      }\n      if (!this.has(k)) {\n        this.size++;\n      }\n      this.array[k] = v;\n    },\n    has: function(k) {\n      return this.array[k] !== undefined;\n    },\n    delete: function(k) {\n      if (this.has(k)) {\n        delete this.array[k];\n        this.size--;\n      }\n    },\n    get: function(k) {\n      return this.array[k];\n    },\n    clear: function() {\n      this.array.length = 0;\n      this.size = 0;\n    },\n\n    // return value, key, map\n    forEach: function(callback, thisArg) {\n      return this.array.forEach(function(v, k) {\n        callback.call(thisArg, v, k, this);\n      }, this);\n    }\n  };\n\n  var _pointermap = PointerMap;\n\n  var CLONE_PROPS = [\n\n    // MouseEvent\n    'bubbles',\n    'cancelable',\n    'view',\n    'detail',\n    'screenX',\n    'screenY',\n    'clientX',\n    'clientY',\n    'ctrlKey',\n    'altKey',\n    'shiftKey',\n    'metaKey',\n    'button',\n    'relatedTarget',\n\n    // DOM Level 3\n    'buttons',\n\n    // PointerEvent\n    'pointerId',\n    'width',\n    'height',\n    'pressure',\n    'tiltX',\n    'tiltY',\n    'pointerType',\n    'hwTimestamp',\n    'isPrimary',\n\n    // event instance\n    'type',\n    'target',\n    'currentTarget',\n    'which',\n    'pageX',\n    'pageY',\n    'timeStamp'\n  ];\n\n  var CLONE_DEFAULTS = [\n\n    // MouseEvent\n    false,\n    false,\n    null,\n    null,\n    0,\n    0,\n    0,\n    0,\n    false,\n    false,\n    false,\n    false,\n    0,\n    null,\n\n    // DOM Level 3\n    0,\n\n    // PointerEvent\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    '',\n    0,\n    false,\n\n    // event instance\n    '',\n    null,\n    null,\n    0,\n    0,\n    0,\n    0\n  ];\n\n  var BOUNDARY_EVENTS = {\n    'pointerover': 1,\n    'pointerout': 1,\n    'pointerenter': 1,\n    'pointerleave': 1\n  };\n\n  var HAS_SVG_INSTANCE = (typeof SVGElementInstance !== 'undefined');\n\n  /**\n   * This module is for normalizing events. Mouse and Touch events will be\n   * collected here, and fire PointerEvents that have the same semantics, no\n   * matter the source.\n   * Events fired:\n   *   - pointerdown: a pointing is added\n   *   - pointerup: a pointer is removed\n   *   - pointermove: a pointer is moved\n   *   - pointerover: a pointer crosses into an element\n   *   - pointerout: a pointer leaves an element\n   *   - pointercancel: a pointer will no longer generate events\n   */\n  var dispatcher = {\n    pointermap: new _pointermap(),\n    eventMap: Object.create(null),\n    captureInfo: Object.create(null),\n\n    // Scope objects for native events.\n    // This exists for ease of testing.\n    eventSources: Object.create(null),\n    eventSourceList: [],\n    /**\n     * Add a new event source that will generate pointer events.\n     *\n     * `inSource` must contain an array of event names named `events`, and\n     * functions with the names specified in the `events` array.\n     * @param {string} name A name for the event source\n     * @param {Object} source A new source of platform events.\n     */\n    registerSource: function(name, source) {\n      var s = source;\n      var newEvents = s.events;\n      if (newEvents) {\n        newEvents.forEach(function(e) {\n          if (s[e]) {\n            this.eventMap[e] = s[e].bind(s);\n          }\n        }, this);\n        this.eventSources[name] = s;\n        this.eventSourceList.push(s);\n      }\n    },\n    register: function(element) {\n      var l = this.eventSourceList.length;\n      for (var i = 0, es; (i < l) && (es = this.eventSourceList[i]); i++) {\n\n        // call eventsource register\n        es.register.call(es, element);\n      }\n    },\n    unregister: function(element) {\n      var l = this.eventSourceList.length;\n      for (var i = 0, es; (i < l) && (es = this.eventSourceList[i]); i++) {\n\n        // call eventsource register\n        es.unregister.call(es, element);\n      }\n    },\n    contains: /*scope.external.contains || */function(container, contained) {\n      try {\n        return container.contains(contained);\n      } catch (ex) {\n\n        // most likely: https://bugzilla.mozilla.org/show_bug.cgi?id=208427\n        return false;\n      }\n    },\n\n    // EVENTS\n    down: function(inEvent) {\n      inEvent.bubbles = true;\n      this.fireEvent('pointerdown', inEvent);\n    },\n    move: function(inEvent) {\n      inEvent.bubbles = true;\n      this.fireEvent('pointermove', inEvent);\n    },\n    up: function(inEvent) {\n      inEvent.bubbles = true;\n      this.fireEvent('pointerup', inEvent);\n    },\n    enter: function(inEvent) {\n      inEvent.bubbles = false;\n      this.fireEvent('pointerenter', inEvent);\n    },\n    leave: function(inEvent) {\n      inEvent.bubbles = false;\n      this.fireEvent('pointerleave', inEvent);\n    },\n    over: function(inEvent) {\n      inEvent.bubbles = true;\n      this.fireEvent('pointerover', inEvent);\n    },\n    out: function(inEvent) {\n      inEvent.bubbles = true;\n      this.fireEvent('pointerout', inEvent);\n    },\n    cancel: function(inEvent) {\n      inEvent.bubbles = true;\n      this.fireEvent('pointercancel', inEvent);\n    },\n    leaveOut: function(event) {\n      this.out(event);\n      if (!this.contains(event.target, event.relatedTarget)) {\n        this.leave(event);\n      }\n    },\n    enterOver: function(event) {\n      this.over(event);\n      if (!this.contains(event.target, event.relatedTarget)) {\n        this.enter(event);\n      }\n    },\n\n    // LISTENER LOGIC\n    eventHandler: function(inEvent) {\n\n      // This is used to prevent multiple dispatch of pointerevents from\n      // platform events. This can happen when two elements in different scopes\n      // are set up to create pointer events, which is relevant to Shadow DOM.\n      if (inEvent._handledByPE) {\n        return;\n      }\n      var type = inEvent.type;\n      var fn = this.eventMap && this.eventMap[type];\n      if (fn) {\n        fn(inEvent);\n      }\n      inEvent._handledByPE = true;\n    },\n\n    // set up event listeners\n    listen: function(target, events) {\n      events.forEach(function(e) {\n        this.addEvent(target, e);\n      }, this);\n    },\n\n    // remove event listeners\n    unlisten: function(target, events) {\n      events.forEach(function(e) {\n        this.removeEvent(target, e);\n      }, this);\n    },\n    addEvent: /*scope.external.addEvent || */function(target, eventName) {\n      target.addEventListener(eventName, this.boundHandler);\n    },\n    removeEvent: /*scope.external.removeEvent || */function(target, eventName) {\n      target.removeEventListener(eventName, this.boundHandler);\n    },\n\n    // EVENT CREATION AND TRACKING\n    /**\n     * Creates a new Event of type `inType`, based on the information in\n     * `inEvent`.\n     *\n     * @param {string} inType A string representing the type of event to create\n     * @param {Event} inEvent A platform event with a target\n     * @return {Event} A PointerEvent of type `inType`\n     */\n    makeEvent: function(inType, inEvent) {\n\n      // relatedTarget must be null if pointer is captured\n      if (this.captureInfo[inEvent.pointerId]) {\n        inEvent.relatedTarget = null;\n      }\n      var e = new _PointerEvent(inType, inEvent);\n      if (inEvent.preventDefault) {\n        e.preventDefault = inEvent.preventDefault;\n      }\n      e._target = e._target || inEvent.target;\n      return e;\n    },\n\n    // make and dispatch an event in one call\n    fireEvent: function(inType, inEvent) {\n      var e = this.makeEvent(inType, inEvent);\n      return this.dispatchEvent(e);\n    },\n    /**\n     * Returns a snapshot of inEvent, with writable properties.\n     *\n     * @param {Event} inEvent An event that contains properties to copy.\n     * @return {Object} An object containing shallow copies of `inEvent`'s\n     *    properties.\n     */\n    cloneEvent: function(inEvent) {\n      var eventCopy = Object.create(null);\n      var p;\n      for (var i = 0; i < CLONE_PROPS.length; i++) {\n        p = CLONE_PROPS[i];\n        eventCopy[p] = inEvent[p] || CLONE_DEFAULTS[i];\n\n        // Work around SVGInstanceElement shadow tree\n        // Return the <use> element that is represented by the instance for Safari, Chrome, IE.\n        // This is the behavior implemented by Firefox.\n        if (HAS_SVG_INSTANCE && (p === 'target' || p === 'relatedTarget')) {\n          if (eventCopy[p] instanceof SVGElementInstance) {\n            eventCopy[p] = eventCopy[p].correspondingUseElement;\n          }\n        }\n      }\n\n      // keep the semantics of preventDefault\n      if (inEvent.preventDefault) {\n        eventCopy.preventDefault = function() {\n          inEvent.preventDefault();\n        };\n      }\n      return eventCopy;\n    },\n    getTarget: function(inEvent) {\n      var capture = this.captureInfo[inEvent.pointerId];\n      if (!capture) {\n        return inEvent._target;\n      }\n      if (inEvent._target === capture || !(inEvent.type in BOUNDARY_EVENTS)) {\n        return capture;\n      }\n    },\n    setCapture: function(inPointerId, inTarget) {\n      if (this.captureInfo[inPointerId]) {\n        this.releaseCapture(inPointerId);\n      }\n      this.captureInfo[inPointerId] = inTarget;\n      var e = document.createEvent('Event');\n      e.initEvent('gotpointercapture', true, false);\n      e.pointerId = inPointerId;\n      this.implicitRelease = this.releaseCapture.bind(this, inPointerId);\n      document.addEventListener('pointerup', this.implicitRelease);\n      document.addEventListener('pointercancel', this.implicitRelease);\n      e._target = inTarget;\n      this.asyncDispatchEvent(e);\n    },\n    releaseCapture: function(inPointerId) {\n      var t = this.captureInfo[inPointerId];\n      if (t) {\n        var e = document.createEvent('Event');\n        e.initEvent('lostpointercapture', true, false);\n        e.pointerId = inPointerId;\n        this.captureInfo[inPointerId] = undefined;\n        document.removeEventListener('pointerup', this.implicitRelease);\n        document.removeEventListener('pointercancel', this.implicitRelease);\n        e._target = t;\n        this.asyncDispatchEvent(e);\n      }\n    },\n    /**\n     * Dispatches the event to its target.\n     *\n     * @param {Event} inEvent The event to be dispatched.\n     * @return {Boolean} True if an event handler returns true, false otherwise.\n     */\n    dispatchEvent: /*scope.external.dispatchEvent || */function(inEvent) {\n      var t = this.getTarget(inEvent);\n      if (t) {\n        return t.dispatchEvent(inEvent);\n      }\n    },\n    asyncDispatchEvent: function(inEvent) {\n      requestAnimationFrame(this.dispatchEvent.bind(this, inEvent));\n    }\n  };\n  dispatcher.boundHandler = dispatcher.eventHandler.bind(dispatcher);\n\n  var _dispatcher = dispatcher;\n\n  var targeting = {\n    shadow: function(inEl) {\n      if (inEl) {\n        return inEl.shadowRoot || inEl.webkitShadowRoot;\n      }\n    },\n    canTarget: function(shadow) {\n      return shadow && Boolean(shadow.elementFromPoint);\n    },\n    targetingShadow: function(inEl) {\n      var s = this.shadow(inEl);\n      if (this.canTarget(s)) {\n        return s;\n      }\n    },\n    olderShadow: function(shadow) {\n      var os = shadow.olderShadowRoot;\n      if (!os) {\n        var se = shadow.querySelector('shadow');\n        if (se) {\n          os = se.olderShadowRoot;\n        }\n      }\n      return os;\n    },\n    allShadows: function(element) {\n      var shadows = [];\n      var s = this.shadow(element);\n      while (s) {\n        shadows.push(s);\n        s = this.olderShadow(s);\n      }\n      return shadows;\n    },\n    searchRoot: function(inRoot, x, y) {\n      if (inRoot) {\n        var t = inRoot.elementFromPoint(x, y);\n        var st, sr;\n\n        // is element a shadow host?\n        sr = this.targetingShadow(t);\n        while (sr) {\n\n          // find the the element inside the shadow root\n          st = sr.elementFromPoint(x, y);\n          if (!st) {\n\n            // check for older shadows\n            sr = this.olderShadow(sr);\n          } else {\n\n            // shadowed element may contain a shadow root\n            var ssr = this.targetingShadow(st);\n            return this.searchRoot(ssr, x, y) || st;\n          }\n        }\n\n        // light dom element is the target\n        return t;\n      }\n    },\n    owner: function(element) {\n      var s = element;\n\n      // walk up until you hit the shadow root or document\n      while (s.parentNode) {\n        s = s.parentNode;\n      }\n\n      // the owner element is expected to be a Document or ShadowRoot\n      if (s.nodeType !== Node.DOCUMENT_NODE && s.nodeType !== Node.DOCUMENT_FRAGMENT_NODE) {\n        s = document;\n      }\n      return s;\n    },\n    findTarget: function(inEvent) {\n      var x = inEvent.clientX;\n      var y = inEvent.clientY;\n\n      // if the listener is in the shadow root, it is much faster to start there\n      var s = this.owner(inEvent.target);\n\n      // if x, y is not in this root, fall back to document search\n      if (!s.elementFromPoint(x, y)) {\n        s = document;\n      }\n      return this.searchRoot(s, x, y);\n    }\n  };\n\n  /**\n   * This module uses Mutation Observers to dynamically adjust which nodes will\n   * generate Pointer Events.\n   *\n   * All nodes that wish to generate Pointer Events must have the attribute\n   * `touch-action` set to `none`.\n   */\n  var forEach = Array.prototype.forEach.call.bind(Array.prototype.forEach);\n  var map = Array.prototype.map.call.bind(Array.prototype.map);\n  var toArray = Array.prototype.slice.call.bind(Array.prototype.slice);\n  var filter = Array.prototype.filter.call.bind(Array.prototype.filter);\n  var MO = window.MutationObserver || window.WebKitMutationObserver;\n  var SELECTOR = '[touch-action]';\n  var OBSERVER_INIT = {\n    subtree: true,\n    childList: true,\n    attributes: true,\n    attributeOldValue: true,\n    attributeFilter: ['touch-action']\n  };\n\n  function Installer(add, remove, changed, binder) {\n    this.addCallback = add.bind(binder);\n    this.removeCallback = remove.bind(binder);\n    this.changedCallback = changed.bind(binder);\n    if (MO) {\n      this.observer = new MO(this.mutationWatcher.bind(this));\n    }\n  }\n\n  Installer.prototype = {\n    watchSubtree: function(target) {\n\n      // Only watch scopes that can target find, as these are top-level.\n      // Otherwise we can see duplicate additions and removals that add noise.\n      //\n      // TODO(dfreedman): For some instances with ShadowDOMPolyfill, we can see\n      // a removal without an insertion when a node is redistributed among\n      // shadows. Since it all ends up correct in the document, watching only\n      // the document will yield the correct mutations to watch.\n      if (this.observer && targeting.canTarget(target)) {\n        this.observer.observe(target, OBSERVER_INIT);\n      }\n    },\n    enableOnSubtree: function(target) {\n      this.watchSubtree(target);\n      if (target === document && document.readyState !== 'complete') {\n        this.installOnLoad();\n      } else {\n        this.installNewSubtree(target);\n      }\n    },\n    installNewSubtree: function(target) {\n      forEach(this.findElements(target), this.addElement, this);\n    },\n    findElements: function(target) {\n      if (target.querySelectorAll) {\n        return target.querySelectorAll(SELECTOR);\n      }\n      return [];\n    },\n    removeElement: function(el) {\n      this.removeCallback(el);\n    },\n    addElement: function(el) {\n      this.addCallback(el);\n    },\n    elementChanged: function(el, oldValue) {\n      this.changedCallback(el, oldValue);\n    },\n    concatLists: function(accum, list) {\n      return accum.concat(toArray(list));\n    },\n\n    // register all touch-action = none nodes on document load\n    installOnLoad: function() {\n      document.addEventListener('readystatechange', function() {\n        if (document.readyState === 'complete') {\n          this.installNewSubtree(document);\n        }\n      }.bind(this));\n    },\n    isElement: function(n) {\n      return n.nodeType === Node.ELEMENT_NODE;\n    },\n    flattenMutationTree: function(inNodes) {\n\n      // find children with touch-action\n      var tree = map(inNodes, this.findElements, this);\n\n      // make sure the added nodes are accounted for\n      tree.push(filter(inNodes, this.isElement));\n\n      // flatten the list\n      return tree.reduce(this.concatLists, []);\n    },\n    mutationWatcher: function(mutations) {\n      mutations.forEach(this.mutationHandler, this);\n    },\n    mutationHandler: function(m) {\n      if (m.type === 'childList') {\n        var added = this.flattenMutationTree(m.addedNodes);\n        added.forEach(this.addElement, this);\n        var removed = this.flattenMutationTree(m.removedNodes);\n        removed.forEach(this.removeElement, this);\n      } else if (m.type === 'attributes') {\n        this.elementChanged(m.target, m.oldValue);\n      }\n    }\n  };\n\n  var installer = Installer;\n\n  function shadowSelector(v) {\n    return 'body /shadow-deep/ ' + selector(v);\n  }\n  function selector(v) {\n    return '[touch-action=\"' + v + '\"]';\n  }\n  function rule(v) {\n    return '{ -ms-touch-action: ' + v + '; touch-action: ' + v + '; touch-action-delay: none; }';\n  }\n  var attrib2css = [\n    'none',\n    'auto',\n    'pan-x',\n    'pan-y',\n    {\n      rule: 'pan-x pan-y',\n      selectors: [\n        'pan-x pan-y',\n        'pan-y pan-x'\n      ]\n    }\n  ];\n  var styles = '';\n\n  // only install stylesheet if the browser has touch action support\n  var hasNativePE = window.PointerEvent || window.MSPointerEvent;\n\n  // only add shadow selectors if shadowdom is supported\n  var hasShadowRoot = !window.ShadowDOMPolyfill && document.head.createShadowRoot;\n\n  function applyAttributeStyles() {\n    if (hasNativePE) {\n      attrib2css.forEach(function(r) {\n        if (String(r) === r) {\n          styles += selector(r) + rule(r) + '\\n';\n          if (hasShadowRoot) {\n            styles += shadowSelector(r) + rule(r) + '\\n';\n          }\n        } else {\n          styles += r.selectors.map(selector) + rule(r.rule) + '\\n';\n          if (hasShadowRoot) {\n            styles += r.selectors.map(shadowSelector) + rule(r.rule) + '\\n';\n          }\n        }\n      });\n\n      var el = document.createElement('style');\n      el.textContent = styles;\n      document.head.appendChild(el);\n    }\n  }\n\n  var mouse__pointermap = _dispatcher.pointermap;\n\n  // radius around touchend that swallows mouse events\n  var DEDUP_DIST = 25;\n\n  // left, middle, right, back, forward\n  var BUTTON_TO_BUTTONS = [1, 4, 2, 8, 16];\n\n  var HAS_BUTTONS = false;\n  try {\n    HAS_BUTTONS = new MouseEvent('test', { buttons: 1 }).buttons === 1;\n  } catch (e) {}\n\n  // handler block for native mouse events\n  var mouseEvents = {\n    POINTER_ID: 1,\n    POINTER_TYPE: 'mouse',\n    events: [\n      'mousedown',\n      'mousemove',\n      'mouseup',\n      'mouseover',\n      'mouseout'\n    ],\n    register: function(target) {\n      _dispatcher.listen(target, this.events);\n    },\n    unregister: function(target) {\n      _dispatcher.unlisten(target, this.events);\n    },\n    lastTouches: [],\n\n    // collide with the global mouse listener\n    isEventSimulatedFromTouch: function(inEvent) {\n      var lts = this.lastTouches;\n      var x = inEvent.clientX;\n      var y = inEvent.clientY;\n      for (var i = 0, l = lts.length, t; i < l && (t = lts[i]); i++) {\n\n        // simulated mouse events will be swallowed near a primary touchend\n        var dx = Math.abs(x - t.x);\n        var dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DIST && dy <= DEDUP_DIST) {\n          return true;\n        }\n      }\n    },\n    prepareEvent: function(inEvent) {\n      var e = _dispatcher.cloneEvent(inEvent);\n\n      // forward mouse preventDefault\n      var pd = e.preventDefault;\n      e.preventDefault = function() {\n        inEvent.preventDefault();\n        pd();\n      };\n      e.pointerId = this.POINTER_ID;\n      e.isPrimary = true;\n      e.pointerType = this.POINTER_TYPE;\n      return e;\n    },\n    prepareButtonsForMove: function(e, inEvent) {\n      var p = mouse__pointermap.get(this.POINTER_ID);\n      e.buttons = p ? p.buttons : 0;\n      inEvent.buttons = e.buttons;\n    },\n    mousedown: function(inEvent) {\n      if (!this.isEventSimulatedFromTouch(inEvent)) {\n        var p = mouse__pointermap.get(this.POINTER_ID);\n        var e = this.prepareEvent(inEvent);\n        if (!HAS_BUTTONS) {\n          e.buttons = BUTTON_TO_BUTTONS[e.button];\n          if (p) { e.buttons |= p.buttons; }\n          inEvent.buttons = e.buttons;\n        }\n        mouse__pointermap.set(this.POINTER_ID, inEvent);\n        if (!p) {\n          _dispatcher.down(e);\n        } else {\n          _dispatcher.move(e);\n        }\n      }\n    },\n    mousemove: function(inEvent) {\n      if (!this.isEventSimulatedFromTouch(inEvent)) {\n        var e = this.prepareEvent(inEvent);\n        if (!HAS_BUTTONS) { this.prepareButtonsForMove(e, inEvent); }\n        _dispatcher.move(e);\n      }\n    },\n    mouseup: function(inEvent) {\n      if (!this.isEventSimulatedFromTouch(inEvent)) {\n        var p = mouse__pointermap.get(this.POINTER_ID);\n        var e = this.prepareEvent(inEvent);\n        if (!HAS_BUTTONS) {\n          var up = BUTTON_TO_BUTTONS[e.button];\n\n          // Produces wrong state of buttons in Browsers without `buttons` support\n          // when a mouse button that was pressed outside the document is released\n          // inside and other buttons are still pressed down.\n          e.buttons = p ? p.buttons & ~up : 0;\n          inEvent.buttons = e.buttons;\n        }\n        mouse__pointermap.set(this.POINTER_ID, inEvent);\n\n        // Support: Firefox <=44 only\n        // FF Ubuntu includes the lifted button in the `buttons` property on\n        // mouseup.\n        // https://bugzilla.mozilla.org/show_bug.cgi?id=1223366\n        if (e.buttons === 0 || e.buttons === BUTTON_TO_BUTTONS[e.button]) {\n          this.cleanupMouse();\n          _dispatcher.up(e);\n        } else {\n          _dispatcher.move(e);\n        }\n      }\n    },\n    mouseover: function(inEvent) {\n      if (!this.isEventSimulatedFromTouch(inEvent)) {\n        var e = this.prepareEvent(inEvent);\n        if (!HAS_BUTTONS) { this.prepareButtonsForMove(e, inEvent); }\n        _dispatcher.enterOver(e);\n      }\n    },\n    mouseout: function(inEvent) {\n      if (!this.isEventSimulatedFromTouch(inEvent)) {\n        var e = this.prepareEvent(inEvent);\n        if (!HAS_BUTTONS) { this.prepareButtonsForMove(e, inEvent); }\n        _dispatcher.leaveOut(e);\n      }\n    },\n    cancel: function(inEvent) {\n      var e = this.prepareEvent(inEvent);\n      _dispatcher.cancel(e);\n      this.cleanupMouse();\n    },\n    cleanupMouse: function() {\n      mouse__pointermap.delete(this.POINTER_ID);\n    }\n  };\n\n  var mouse = mouseEvents;\n\n  var captureInfo = _dispatcher.captureInfo;\n  var findTarget = targeting.findTarget.bind(targeting);\n  var allShadows = targeting.allShadows.bind(targeting);\n  var touch__pointermap = _dispatcher.pointermap;\n\n  // This should be long enough to ignore compat mouse events made by touch\n  var DEDUP_TIMEOUT = 2500;\n  var CLICK_COUNT_TIMEOUT = 200;\n  var ATTRIB = 'touch-action';\n  var INSTALLER;\n\n  // The presence of touch event handlers blocks scrolling, and so we must be careful to\n  // avoid adding handlers unnecessarily.  Chrome plans to add a touch-action-delay property\n  // (crbug.com/329559) to address this, and once we have that we can opt-in to a simpler\n  // handler registration mechanism.  Rather than try to predict how exactly to opt-in to\n  // that we'll just leave this disabled until there is a build of Chrome to test.\n  var HAS_TOUCH_ACTION_DELAY = false;\n\n  // handler block for native touch events\n  var touchEvents = {\n    events: [\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel'\n    ],\n    register: function(target) {\n      if (HAS_TOUCH_ACTION_DELAY) {\n        _dispatcher.listen(target, this.events);\n      } else {\n        INSTALLER.enableOnSubtree(target);\n      }\n    },\n    unregister: function(target) {\n      if (HAS_TOUCH_ACTION_DELAY) {\n        _dispatcher.unlisten(target, this.events);\n      } else {\n\n        // TODO(dfreedman): is it worth it to disconnect the MO?\n      }\n    },\n    elementAdded: function(el) {\n      var a = el.getAttribute(ATTRIB);\n      var st = this.touchActionToScrollType(a);\n      if (st) {\n        el._scrollType = st;\n        _dispatcher.listen(el, this.events);\n\n        // set touch-action on shadows as well\n        allShadows(el).forEach(function(s) {\n          s._scrollType = st;\n          _dispatcher.listen(s, this.events);\n        }, this);\n      }\n    },\n    elementRemoved: function(el) {\n      el._scrollType = undefined;\n      _dispatcher.unlisten(el, this.events);\n\n      // remove touch-action from shadow\n      allShadows(el).forEach(function(s) {\n        s._scrollType = undefined;\n        _dispatcher.unlisten(s, this.events);\n      }, this);\n    },\n    elementChanged: function(el, oldValue) {\n      var a = el.getAttribute(ATTRIB);\n      var st = this.touchActionToScrollType(a);\n      var oldSt = this.touchActionToScrollType(oldValue);\n\n      // simply update scrollType if listeners are already established\n      if (st && oldSt) {\n        el._scrollType = st;\n        allShadows(el).forEach(function(s) {\n          s._scrollType = st;\n        }, this);\n      } else if (oldSt) {\n        this.elementRemoved(el);\n      } else if (st) {\n        this.elementAdded(el);\n      }\n    },\n    scrollTypes: {\n      EMITTER: 'none',\n      XSCROLLER: 'pan-x',\n      YSCROLLER: 'pan-y',\n      SCROLLER: /^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/\n    },\n    touchActionToScrollType: function(touchAction) {\n      var t = touchAction;\n      var st = this.scrollTypes;\n      if (t === 'none') {\n        return 'none';\n      } else if (t === st.XSCROLLER) {\n        return 'X';\n      } else if (t === st.YSCROLLER) {\n        return 'Y';\n      } else if (st.SCROLLER.exec(t)) {\n        return 'XY';\n      }\n    },\n    POINTER_TYPE: 'touch',\n    firstTouch: null,\n    isPrimaryTouch: function(inTouch) {\n      return this.firstTouch === inTouch.identifier;\n    },\n    setPrimaryTouch: function(inTouch) {\n\n      // set primary touch if there no pointers, or the only pointer is the mouse\n      if (touch__pointermap.size === 0 || (touch__pointermap.size === 1 && touch__pointermap.has(1))) {\n        this.firstTouch = inTouch.identifier;\n        this.firstXY = { X: inTouch.clientX, Y: inTouch.clientY };\n        this.scrolling = false;\n        this.cancelResetClickCount();\n      }\n    },\n    removePrimaryPointer: function(inPointer) {\n      if (inPointer.isPrimary) {\n        this.firstTouch = null;\n        this.firstXY = null;\n        this.resetClickCount();\n      }\n    },\n    clickCount: 0,\n    resetId: null,\n    resetClickCount: function() {\n      var fn = function() {\n        this.clickCount = 0;\n        this.resetId = null;\n      }.bind(this);\n      this.resetId = setTimeout(fn, CLICK_COUNT_TIMEOUT);\n    },\n    cancelResetClickCount: function() {\n      if (this.resetId) {\n        clearTimeout(this.resetId);\n      }\n    },\n    typeToButtons: function(type) {\n      var ret = 0;\n      if (type === 'touchstart' || type === 'touchmove') {\n        ret = 1;\n      }\n      return ret;\n    },\n    touchToPointer: function(inTouch) {\n      var cte = this.currentTouchEvent;\n      var e = _dispatcher.cloneEvent(inTouch);\n\n      // We reserve pointerId 1 for Mouse.\n      // Touch identifiers can start at 0.\n      // Add 2 to the touch identifier for compatibility.\n      var id = e.pointerId = inTouch.identifier + 2;\n      e.target = captureInfo[id] || findTarget(e);\n      e.bubbles = true;\n      e.cancelable = true;\n      e.detail = this.clickCount;\n      e.button = 0;\n      e.buttons = this.typeToButtons(cte.type);\n      e.width = inTouch.radiusX || inTouch.webkitRadiusX || 0;\n      e.height = inTouch.radiusY || inTouch.webkitRadiusY || 0;\n      e.pressure = inTouch.force || inTouch.webkitForce || 0.5;\n      e.isPrimary = this.isPrimaryTouch(inTouch);\n      e.pointerType = this.POINTER_TYPE;\n\n      // forward touch preventDefaults\n      var self = this;\n      e.preventDefault = function() {\n        self.scrolling = false;\n        self.firstXY = null;\n        cte.preventDefault();\n      };\n      return e;\n    },\n    processTouches: function(inEvent, inFunction) {\n      var tl = inEvent.changedTouches;\n      this.currentTouchEvent = inEvent;\n      for (var i = 0, t; i < tl.length; i++) {\n        t = tl[i];\n        inFunction.call(this, this.touchToPointer(t));\n      }\n    },\n\n    // For single axis scrollers, determines whether the element should emit\n    // pointer events or behave as a scroller\n    shouldScroll: function(inEvent) {\n      if (this.firstXY) {\n        var ret;\n        var scrollAxis = inEvent.currentTarget._scrollType;\n        if (scrollAxis === 'none') {\n\n          // this element is a touch-action: none, should never scroll\n          ret = false;\n        } else if (scrollAxis === 'XY') {\n\n          // this element should always scroll\n          ret = true;\n        } else {\n          var t = inEvent.changedTouches[0];\n\n          // check the intended scroll axis, and other axis\n          var a = scrollAxis;\n          var oa = scrollAxis === 'Y' ? 'X' : 'Y';\n          var da = Math.abs(t['client' + a] - this.firstXY[a]);\n          var doa = Math.abs(t['client' + oa] - this.firstXY[oa]);\n\n          // if delta in the scroll axis > delta other axis, scroll instead of\n          // making events\n          ret = da >= doa;\n        }\n        this.firstXY = null;\n        return ret;\n      }\n    },\n    findTouch: function(inTL, inId) {\n      for (var i = 0, l = inTL.length, t; i < l && (t = inTL[i]); i++) {\n        if (t.identifier === inId) {\n          return true;\n        }\n      }\n    },\n\n    // In some instances, a touchstart can happen without a touchend. This\n    // leaves the pointermap in a broken state.\n    // Therefore, on every touchstart, we remove the touches that did not fire a\n    // touchend event.\n    // To keep state globally consistent, we fire a\n    // pointercancel for this \"abandoned\" touch\n    vacuumTouches: function(inEvent) {\n      var tl = inEvent.touches;\n\n      // pointermap.size should be < tl.length here, as the touchstart has not\n      // been processed yet.\n      if (touch__pointermap.size >= tl.length) {\n        var d = [];\n        touch__pointermap.forEach(function(value, key) {\n\n          // Never remove pointerId == 1, which is mouse.\n          // Touch identifiers are 2 smaller than their pointerId, which is the\n          // index in pointermap.\n          if (key !== 1 && !this.findTouch(tl, key - 2)) {\n            var p = value.out;\n            d.push(p);\n          }\n        }, this);\n        d.forEach(this.cancelOut, this);\n      }\n    },\n    touchstart: function(inEvent) {\n      this.vacuumTouches(inEvent);\n      this.setPrimaryTouch(inEvent.changedTouches[0]);\n      this.dedupSynthMouse(inEvent);\n      if (!this.scrolling) {\n        this.clickCount++;\n        this.processTouches(inEvent, this.overDown);\n      }\n    },\n    overDown: function(inPointer) {\n      touch__pointermap.set(inPointer.pointerId, {\n        target: inPointer.target,\n        out: inPointer,\n        outTarget: inPointer.target\n      });\n      _dispatcher.over(inPointer);\n      _dispatcher.enter(inPointer);\n      _dispatcher.down(inPointer);\n    },\n    touchmove: function(inEvent) {\n      if (!this.scrolling) {\n        if (this.shouldScroll(inEvent)) {\n          this.scrolling = true;\n          this.touchcancel(inEvent);\n        } else {\n          inEvent.preventDefault();\n          this.processTouches(inEvent, this.moveOverOut);\n        }\n      }\n    },\n    moveOverOut: function(inPointer) {\n      var event = inPointer;\n      var pointer = touch__pointermap.get(event.pointerId);\n\n      // a finger drifted off the screen, ignore it\n      if (!pointer) {\n        return;\n      }\n      var outEvent = pointer.out;\n      var outTarget = pointer.outTarget;\n      _dispatcher.move(event);\n      if (outEvent && outTarget !== event.target) {\n        outEvent.relatedTarget = event.target;\n        event.relatedTarget = outTarget;\n\n        // recover from retargeting by shadow\n        outEvent.target = outTarget;\n        if (event.target) {\n          _dispatcher.leaveOut(outEvent);\n          _dispatcher.enterOver(event);\n        } else {\n\n          // clean up case when finger leaves the screen\n          event.target = outTarget;\n          event.relatedTarget = null;\n          this.cancelOut(event);\n        }\n      }\n      pointer.out = event;\n      pointer.outTarget = event.target;\n    },\n    touchend: function(inEvent) {\n      this.dedupSynthMouse(inEvent);\n      this.processTouches(inEvent, this.upOut);\n    },\n    upOut: function(inPointer) {\n      if (!this.scrolling) {\n        _dispatcher.up(inPointer);\n        _dispatcher.out(inPointer);\n        _dispatcher.leave(inPointer);\n      }\n      this.cleanUpPointer(inPointer);\n    },\n    touchcancel: function(inEvent) {\n      this.processTouches(inEvent, this.cancelOut);\n    },\n    cancelOut: function(inPointer) {\n      _dispatcher.cancel(inPointer);\n      _dispatcher.out(inPointer);\n      _dispatcher.leave(inPointer);\n      this.cleanUpPointer(inPointer);\n    },\n    cleanUpPointer: function(inPointer) {\n      touch__pointermap.delete(inPointer.pointerId);\n      this.removePrimaryPointer(inPointer);\n    },\n\n    // prevent synth mouse events from creating pointer events\n    dedupSynthMouse: function(inEvent) {\n      var lts = mouse.lastTouches;\n      var t = inEvent.changedTouches[0];\n\n      // only the primary finger will synth mouse events\n      if (this.isPrimaryTouch(t)) {\n\n        // remember x/y of last touch\n        var lt = { x: t.clientX, y: t.clientY };\n        lts.push(lt);\n        var fn = (function(lts, lt) {\n          var i = lts.indexOf(lt);\n          if (i > -1) {\n            lts.splice(i, 1);\n          }\n        }).bind(null, lts, lt);\n        setTimeout(fn, DEDUP_TIMEOUT);\n      }\n    }\n  };\n\n  if (!HAS_TOUCH_ACTION_DELAY) {\n    INSTALLER = new installer(touchEvents.elementAdded, touchEvents.elementRemoved,\n      touchEvents.elementChanged, touchEvents);\n  }\n\n  var touch = touchEvents;\n\n  var ms__pointermap = _dispatcher.pointermap;\n  var HAS_BITMAP_TYPE = window.MSPointerEvent &&\n    typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE === 'number';\n  var msEvents = {\n    events: [\n      'MSPointerDown',\n      'MSPointerMove',\n      'MSPointerUp',\n      'MSPointerOut',\n      'MSPointerOver',\n      'MSPointerCancel',\n      'MSGotPointerCapture',\n      'MSLostPointerCapture'\n    ],\n    register: function(target) {\n      _dispatcher.listen(target, this.events);\n    },\n    unregister: function(target) {\n      _dispatcher.unlisten(target, this.events);\n    },\n    POINTER_TYPES: [\n      '',\n      'unavailable',\n      'touch',\n      'pen',\n      'mouse'\n    ],\n    prepareEvent: function(inEvent) {\n      var e = inEvent;\n      if (HAS_BITMAP_TYPE) {\n        e = _dispatcher.cloneEvent(inEvent);\n        e.pointerType = this.POINTER_TYPES[inEvent.pointerType];\n      }\n      return e;\n    },\n    cleanup: function(id) {\n      ms__pointermap.delete(id);\n    },\n    MSPointerDown: function(inEvent) {\n      ms__pointermap.set(inEvent.pointerId, inEvent);\n      var e = this.prepareEvent(inEvent);\n      _dispatcher.down(e);\n    },\n    MSPointerMove: function(inEvent) {\n      var e = this.prepareEvent(inEvent);\n      _dispatcher.move(e);\n    },\n    MSPointerUp: function(inEvent) {\n      var e = this.prepareEvent(inEvent);\n      _dispatcher.up(e);\n      this.cleanup(inEvent.pointerId);\n    },\n    MSPointerOut: function(inEvent) {\n      var e = this.prepareEvent(inEvent);\n      _dispatcher.leaveOut(e);\n    },\n    MSPointerOver: function(inEvent) {\n      var e = this.prepareEvent(inEvent);\n      _dispatcher.enterOver(e);\n    },\n    MSPointerCancel: function(inEvent) {\n      var e = this.prepareEvent(inEvent);\n      _dispatcher.cancel(e);\n      this.cleanup(inEvent.pointerId);\n    },\n    MSLostPointerCapture: function(inEvent) {\n      var e = _dispatcher.makeEvent('lostpointercapture', inEvent);\n      _dispatcher.dispatchEvent(e);\n    },\n    MSGotPointerCapture: function(inEvent) {\n      var e = _dispatcher.makeEvent('gotpointercapture', inEvent);\n      _dispatcher.dispatchEvent(e);\n    }\n  };\n\n  var ms = msEvents;\n\n  function platform_events__applyPolyfill() {\n\n    // only activate if this platform does not have pointer events\n    if (!window.PointerEvent) {\n      window.PointerEvent = _PointerEvent;\n\n      if (window.navigator.msPointerEnabled) {\n        var tp = window.navigator.msMaxTouchPoints;\n        Object.defineProperty(window.navigator, 'maxTouchPoints', {\n          value: tp,\n          enumerable: true\n        });\n        _dispatcher.registerSource('ms', ms);\n      } else {\n        _dispatcher.registerSource('mouse', mouse);\n        if (window.ontouchstart !== undefined) {\n          _dispatcher.registerSource('touch', touch);\n        }\n      }\n\n      _dispatcher.register(document);\n    }\n  }\n\n  var n = window.navigator;\n  var s, r;\n  function assertDown(id) {\n    if (!_dispatcher.pointermap.has(id)) {\n      throw new Error('InvalidPointerId');\n    }\n  }\n  if (n.msPointerEnabled) {\n    s = function(pointerId) {\n      assertDown(pointerId);\n      this.msSetPointerCapture(pointerId);\n    };\n    r = function(pointerId) {\n      assertDown(pointerId);\n      this.msReleasePointerCapture(pointerId);\n    };\n  } else {\n    s = function setPointerCapture(pointerId) {\n      assertDown(pointerId);\n      _dispatcher.setCapture(pointerId, this);\n    };\n    r = function releasePointerCapture(pointerId) {\n      assertDown(pointerId);\n      _dispatcher.releaseCapture(pointerId, this);\n    };\n  }\n\n  function _capture__applyPolyfill() {\n    if (window.Element && !Element.prototype.setPointerCapture) {\n      Object.defineProperties(Element.prototype, {\n        'setPointerCapture': {\n          value: s\n        },\n        'releasePointerCapture': {\n          value: r\n        }\n      });\n    }\n  }\n\n  applyAttributeStyles();\n  platform_events__applyPolyfill();\n  _capture__applyPolyfill();\n\n  var pointerevents = {\n    dispatcher: _dispatcher,\n    Installer: installer,\n    PointerEvent: _PointerEvent,\n    PointerMap: _pointermap,\n    targetFinding: targeting\n  };\n\n  return pointerevents;\n\n}));\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/pepjs/dist/pep.js\n **/","module.exports = require(\"babylonjs\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"babylonjs\"\n ** module id = 2\n ** module chunks = 0\n **/","import BABYLON from 'babylonjs';\nimport Act from './act';\n\nconst { Quaternion } = BABYLON;\n\nexport default class ActHist {\n\n    mesh = null;\n    lastMax = 10;\n    acts = [];\n    last = -1;\n    current = -1;\n\n    constructor (mesh, capacity) {\n        this.mesh = mesh;\n        this.lastMax = capacity - 1;\n\n        if (!mesh.rotationQuaternion) {\n            if (mesh.rotation) {\n                mesh.rotationQuaternion = Quaternion.RotationYawPitchRoll(mesh.rotation.y, mesh.rotation.x, mesh.rotation.z);\n            }\n        }\n\n        this.add();\n    }\n\n    setCapacity (c) {\n        if (c === 0){\n\t\t\tconsole.error(\"capacity should be more than zero\");\n\t\t\treturn;\n\t\t}\n\n\t\tthis.lastMax = c - 1;\n\t\tthis.last = -1;\n\t\tthis.current = -1;\n\t\tthis.acts = [];\n\n\t\tthis.add();\n    }\n\n    add () {\n        const act = new Act(this.mesh);\n\n        if (this.current < this.last) {\n            this.acts.splice(current + 1);\n            this.late = this.current;\n        }\n\n        if (this.last === this.lastMax) {\n            this.acts.shift();\n            this.acts.push(act);\n        }\n        else {\n            this.acts.push(act);\n            this.last++;\n            this.current++;\n        }\n    }\n\n    undo () {\n\t\tif (this.current > 0){\n\t\t\tthis.current--;\n\t\t\tthis.acts[this.current].perform(this.mesh);\n\t\t}\n\t}\n\n\tredo () {\n\t\tif (this.current < this.last){\n\t\t\tthis.current++;\n\t\t\tthis.acts[this.current].perform(this.mesh);\n\t\t}\n\t}\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/acthist.js\n **/","export default class Act{\n\n\tp = null;\n    r = null;\n    s = null;\n\n\tconstructor (mesh) {\n\t\tthis.p = mesh.position.clone();\n\t\tthis.r = mesh.rotationQuaternion.clone();\n\t\tthis.s = mesh.scaling.clone();\n\t}\n\n\tperform (mesh) {\n\t\tmesh.position = this.p.clone();\n\t\tmesh.rotationQuaternion = this.r.clone();\n\t\tmesh.scaling = s.clone();\n\t}\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/act.js\n **/"],"sourceRoot":""}